/*
*
*  @name        Animate Slider 
*  @description A jQuery Slider plugin with specific animations for each element 
*  @version     1.0.0 
*  @copyright   2014 - Vasileios Chouliaras <vasilis.chouliaras@gmail.com> 
*  @license     MIT - https://github.com/vchouliaras/jquery.animateSlider.js/blob/master/LICENSE-MIT 
*
*/
!function(a){var b=function(b,c){this.element=b,this.$element=a(b),this.options=c};b.prototype={init:function(){if(this.cssAnimations=Modernizr.cssanimations,this.cssTransitions=Modernizr.csstransitions,!this.cssAnimations||!this.cssTransitions)throw new Error("Your broswer does not support CSS3 Animations or Transitions");this.config=a.extend({},this.defaults,this.options),this.slides=this.$element.children(".anim-slide"),this.slidesCount=this.slides.length,this.interval=[],this.current=0;for(var b=a('<div class="anim-dots"></div>'),c=this.slidesCount;c--;)b.append("<span></span>");b.appendTo(this.$element),this.slides.eq(this.current).addClass("anim-slide-this"),this.$dots=this.$element.find(".anim-dots>span"),this.$navNext=this.$element.find(".anim-arrows-next"),this.$navPrev=this.$element.find(".anim-arrows-prev"),this.loadEvents(),this.navigate(this.current),this.updateDots(),this.autoplay()},navigate:function(b){var c,d,e,f,g,h,i,j="bounce flash pulse rubberBand shake swing tada wobble bounceIn bounceInDown bounceInRight bounceInUp bounceOut bounceOutDown bounceOutLeft bounceOutRight bounceOutUp fadeIn fadeInDown fadeInDownBig fadeInLeft fadeInLeftBig fadeInRight fadeInRightBig fadeInUp fadeInUpBig fadeOut fadeOutDown fadeOutDownBig fadeOutLeft fadeOutLeftBig fadeOutRight fadeOutRightBig fadeOutUp fadeOutUpBig animated.flip flipInX flipInY flipOutX flipOutY lightSpeedIn lightSpeedOut rotateIn rotateInDownLeft rotateInDownRight rotateInUpLeft rotateInUpRight rotateOut rotateOutDownLeft rotateOutDownRight rotateOutUpLeft rotateOutUpRight slideInDown slideInLeft slideInRight slideOutLeft slideOutRight slideOutUp slideInUp slideOutDown hinge rollIn rollOut";g=this.slides.eq(this.current),h=this.elemAnimate(this.current,this.config),this.current=b,f=this.slides.eq(this.current),i=this.elemAnimate(this.current,this.config),g.removeClass(" anim-slide-this "+j),g.find("*").removeClass(j),a.each(h,function(a){return a==g.prop("tagName").toLowerCase()?(d=g.data("classHide"),e=g.data("delayShow"),g.removeClass(e),g.addClass(d+" animated"),!1):(d=g.find(a).data("classHide"),e=g.find(a).data("delayShow"),g.find(a).removeClass(e),g.find(a).addClass(d+" animated"),void 0)}),a.each(i,function(a){return a==g.prop("tagName").toLowerCase()?(c=f.data("classShow"),e=f.data("delayShow"),f.removeClass(j),f.addClass(c+" "+e+" animated"),!1):(c=f.find(a).data("classShow"),e=f.find(a).data("delayShow"),f.find(a).removeClass(j),f.find(a).addClass(c+" "+e+" animated "),void 0)}),f.addClass(" anim-slide-this"),this.updateDots()},updateDots:function(){this.$dots.removeClass("anim-dots-this"),this.$dots.eq(this.current).addClass("anim-dots-this")},dots:function(a){return a>=this.slidesCount||0>a?!1:(this.config.autoplay&&(clearTimeout(this.autoplay),this.config.autoplay=!1),void this.navigate(a))},elemAnimate:function(b,c){if("object"==typeof c.animations){if(this.slidesCount!==Object.keys(c.animations).length)throw new SyntaxError("Slides length and animation Object length must be equal.");var d=c.animations[b],e=this.slides.eq(b);return a.each(d,function(a,b){if(a==e.prop("tagName").toLowerCase())return null==e.data("classShow")&&("string"==typeof b.show?e.data("classShow",b.show):e.data("classShow",""),"string"==typeof b.hide?e.data("classHide",b.hide):e.data("classHide",""),"string"==typeof b.delayShow?e.data("delayShow",b.delayShow):e.data("delayShow"," ")),!1;if(!e.find(a)[0])throw new TypeError("The element '"+a+"' does not exist.");null==e.find(a).data("classShow")&&("string"==typeof b.show?e.find(a).data("classShow",b.show):e.find(a).data("classShow"," "),"string"==typeof b.hide?e.find(a).data("classHide",b.hide):e.find(a).data("classHide"," "),"string"==typeof b.delayShow?e.find(a).data("delayShow",b.delayShow):e.find(a).data("delayShow"," "))})}},autoplay:function(){if(this.config.autoplay){var a=this.current,b=this,c=function(){a=a>=b.slidesCount-1||0>a?0:a+1,b.navigate(a),b.autoplay()};if(this.interval.length===this.slidesCount)return void(this.autoplayTime=setTimeout(c,this.interval[a]));this.animDuration(a).done(function(d){d>=b.config.interval?(b.interval[a]=d,b.autoplayTime=setTimeout(c,0)):d<b.config.interval&&(b.interval[a]=b.config.interval,b.autoplayTime=setTimeout(c,b.config.interval-d))})}},animDuration:function(b){var c,d=this.slides.eq(b),e=d.children("*.animated").length,f=+new Date,g=new a.Deferred,h=0;return d.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(){var a=+new Date;c=1e3*Math.ceil((a-f)/1e3),h++,h==e&&g.resolve(c)}),g},loadEvents:function(){var b=this;this.$navNext.on("click.slide",function(a){b.config.autoplay&&(clearTimeout(b.autoplay),b.config.autoplay=!1);var c=b.current>=b.slidesCount-1?0:b.current+1;b.navigate(c,"next"),a.preventDefault()}),this.$navPrev.on("click.slide",function(a){b.config.autoplay&&(clearTimeout(b.autoplay),b.config.autoplay=!1);var c=0===b.current?b.slidesCount-1:b.current-1;b.navigate(c,"prev"),a.preventDefault()}),this.$dots.on("click.slide",function(c){var d=a(this).index();b.dots(d),c.preventDefault()})},defaults:{autoplay:!0,interval:5e3}},a.fn.animateSlider=function(c){return this.each(function(){var d=a.data(this,"animateSlider");d||a.data(this,"animateSlider",new b(this,c).init())})}}(jQuery);